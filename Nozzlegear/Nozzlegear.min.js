var Nozzlegear=function(){function n(n){var t=this;this.options=n;this._isStarted=!1;this._hasBeenShow=!1;this._isOpen=!1;this._deviceWidth=window.innerWidth>0?window.innerWidth:screen.width;this._defaultOptions={Position:"bottom-right",UniqueId:"defaultUniqueId4256",ShowPopupIfConverted:!1,AutoOpenIfPreviouslyInteracted:!1,FormOptions:{CaptureEmailAddress:!0,CaptureFirstName:!0,CaptureFullName:!1,CaptureLastName:!1},Title:"Sign up for our mailing list!",Message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",ButtonText:"Sign up!",BackgroundColor:"#34495e",AutoOpenDelay:5e3,OnConversion:function(){return!0}};this._template="<div class='Nozzlegear-header'><a class='Nozzlegear-toggle' href='#'><h2 class='Nozzlegear-title'><\/h2><span class='Nozzlegear-arrow'><\/span><\/a><\/div><div class='Nozzlegear-content'><p class='Nozzlegear-message'><\/p><form autocomplete='off' class='Nozzlegear-form'><div class='Nozzlegear-form-group Nozzlegear-fname-capture'><input type='text' class='Nozzlegear-form-control' placeholder='First Name' /><\/div><div class='Nozzlegear-form-group Nozzlegear-lname-capture'><input type='text' class='Nozzlegear-form-control' placeholder='Last Name' /><\/div><div class='Nozzlegear-form-group Nozzlegear-fullname-capture'><input type='text' class='Nozzlegear-form-control' placeholder='Full Name' /><\/div><div class='Nozzlegear-form-group Nozzlegear-email-capture'><input type='text' class='Nozzlegear-form-control' placeholder='Email Address' /><\/div><p class='Nozzlegear-error Nozzlegear-hide'><\/p><button class='Nozzlegear-button' type='button'><\/button><\/form><\/div>";this.options=this._checkDefaults(n);this._form=document.createElement("div");this._form.classList.add("Nozzlegear-container");this._form.classList.add("Nozzlegear-hide");this._form.classList.add("Nozzlegear-untoggled");this._form.style.maxHeight="0px";this._form.style.backgroundColor=this.options.BackgroundColor;this._form.innerHTML=this._template;this.options.Position==="bottom-left"&&this._form.classList.add("Nozzlegear-bottom-left");this.options.Position==="bottom-right"&&this._form.classList.add("Nozzlegear-bottom-right");this._form.getElementsByClassName("Nozzlegear-title").item(0).textContent=this.options.Title;this._form.getElementsByClassName("Nozzlegear-message").item(0).textContent=this.options.Message;this._form.getElementsByClassName("Nozzlegear-button").item(0).textContent=this.options.ButtonText;this._configureFormOptions(this.options.FormOptions);this._form.getElementsByClassName("Nozzlegear-button").item(0).addEventListener("click",function(n){t._onButtonClick(n)},!0);this._form.getElementsByClassName("Nozzlegear-toggle").item(0).addEventListener("click",function(n){t._toggle(n)},!0);document.body.appendChild(this._form);this._errorElement=this._form.querySelector("p.Nozzlegear-error");this._cookieValue=function(){var n;try{n=JSON.parse(t._getCookie("Nozzlegear-"+t.options.UniqueId+"-form"))}catch(i){n={HasConverted:!1,HasInteracted:!1}}return n}()}return n.prototype.Open=function(){return this._form.classList.remove("Nozzlegear-hide"),this._form.classList.remove("Nozzlegear-untoggled"),this._form.style.maxHeight="600px",this._isOpen=!0,this._hasBeenShow=!0,this},n.prototype.Close=function(){return this._form.style.maxHeight=this._form.querySelector(".Nozzlegear-header").offsetHeight+"px",this._form.classList.add("Nozzlegear-untoggled"),this._isOpen=!1,this},n.prototype.Start=function(){var n=this;return this._isStarted||(this._isStarted=!0,(this.options.ShowPopupIfConverted||!this._cookieValue.HasConverted)&&(this._form.classList.remove("Nozzlegear-hide"),this._form.style.maxHeight=this._form.querySelector(".Nozzlegear-header").offsetHeight+"px",(this.options.AutoOpenIfPreviouslyInteracted||!this._cookieValue.HasInteracted)&&this._deviceWidth>830&&(console.log("Auto open?",this.options.AutoOpenIfPreviouslyInteracted),console.log("Has interacted?",this._cookieValue.HasInteracted),this.options.AutoOpenDelay<0||(this.options.AutoOpenDelay===0?this.Open():setTimeout(function(){n._hasBeenShow||n.Open()},this.options.AutoOpenDelay))))),this},n.prototype.ShowError=function(n){return this._errorElement.textContent=n,this._errorElement.classList.remove("Nozzlegear-hide"),this},n.prototype.HideError=function(){return this._errorElement.textContent="",this._errorElement.classList.add("Nozzlegear-hide"),this},n.prototype._propertyExists=function(n,t){return n===null||typeof n!==t?!1:!0},n.prototype._checkDefaults=function(n){return{Position:this._propertyExists(n&&n.Position,"string")?n.Position:this._defaultOptions.Position,UniqueId:this._propertyExists(n&&n.UniqueId,"string")?n.UniqueId:this._defaultOptions.UniqueId,ShowPopupIfConverted:this._propertyExists(n&&n.ShowPopupIfConverted,"boolean")?n.ShowPopupIfConverted:this._defaultOptions.ShowPopupIfConverted,AutoOpenIfPreviouslyInteracted:this._propertyExists(n&&n.AutoOpenIfPreviouslyInteracted,"boolean")?n.AutoOpenIfPreviouslyInteracted:this._defaultOptions.AutoOpenIfPreviouslyInteracted,FormOptions:this._checkFormDefaults(n&&n.FormOptions),Title:this._propertyExists(n&&n.Title,"string")?n.Title:this._defaultOptions.Title,Message:this._propertyExists(n&&n.Message,"string")?n.Message:this._defaultOptions.Message,ButtonText:this._propertyExists(n&&n.ButtonText,"string")?n.ButtonText:this._defaultOptions.ButtonText,BackgroundColor:this._propertyExists(n&&n.BackgroundColor,"string")?n.BackgroundColor:this._defaultOptions.BackgroundColor,OnConversion:this._propertyExists(n&&n.OnConversion,"function")?n.OnConversion:this._defaultOptions.OnConversion,AutoOpenDelay:this._propertyExists(n&&n.AutoOpenDelay,"number")?n.AutoOpenDelay:this._defaultOptions.AutoOpenDelay}},n.prototype._checkFormDefaults=function(n){return{ActionUrl:this._propertyExists(n&&n.ActionUrl,"string")?n.ActionUrl:null,Method:this._propertyExists(n&&n.Method,"string")?n.Method:null,EmailAddressControlName:this._propertyExists(n&&n.EmailAddressControlName,"string")?n.EmailAddressControlName:null,FirstNameControlName:this._propertyExists(n&&n.FirstNameControlName,"string")?n.FirstNameControlName:null,LastNameControlName:this._propertyExists(n&&n.LastNameControlName,"string")?n.LastNameControlName:null,FullNameControlName:this._propertyExists(n&&n.FullNameControlName,"string")?n.FullNameControlName:null,CaptureEmailAddress:this._propertyExists(n&&n.CaptureEmailAddress,"boolean")?n.CaptureEmailAddress:this._defaultOptions.FormOptions.CaptureEmailAddress,CaptureFirstName:this._propertyExists(n&&n.CaptureFirstName,"boolean")?n.CaptureFirstName:this._defaultOptions.FormOptions.CaptureFirstName,CaptureLastName:this._propertyExists(n&&n.CaptureLastName,"boolean")?n.CaptureLastName:this._defaultOptions.FormOptions.CaptureLastName,CaptureFullName:this._propertyExists(n&&n.CaptureFullName,"boolean")?n.CaptureFullName:this._defaultOptions.FormOptions.CaptureFullName}},n.prototype._configureFormOptions=function(n){var r=this,u=this._form.getElementsByTagName("form").item(0),t=function(n,t){var i=r._form.getElementsByClassName(n).item(0).childNodes.item(0);i.setAttribute("name",t)},i=function(n){r._form.getElementsByClassName(n).item(0).classList.add("Nozzlegear-hide")};n&&n.ActionUrl&&(u.action=n.ActionUrl);n&&n.Method&&(u.method=n.Method);n&&n.EmailAddressControlName&&t("Nozzlegear-email-capture",n.EmailAddressControlName);n&&n.FirstNameControlName&&t("Nozzlegear-fname-capture",n.FirstNameControlName);n&&n.LastNameControlName&&t("Nozzlegear-lname-capture",n.LastNameControlName);n&&n.FullNameControlName&&t("Nozzlegear-fullname-capture",n.FullNameControlName);n.CaptureEmailAddress||i("Nozzlegear-email-capture");n.CaptureFirstName||i("Nozzlegear-fname-capture");n.CaptureLastName||i("Nozzlegear-lname-capture");n.CaptureFullName||i("Nozzlegear-fullname-capture")},n.prototype._getCookie=function(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""},n.prototype._setCookie=function(n,t,i){if(t){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+encodeURIComponent(t)+(i===null?"":";expires="+r.toUTCString())}else document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"},n.prototype._saveCookieData=function(){this._setCookie("Nozzlegear-"+this.options.UniqueId+"-form",JSON.stringify(this._cookieValue),3650)},n.prototype._toggle=function(n){n.preventDefault();this._isOpen?(this._cookieValue.HasInteracted=!0,this._saveCookieData(),this.Close()):this.Open()},n.prototype._onButtonClick=function(n){if(n.preventDefault(),this.HideError(),this.options.OnConversion){var t=this._form.getElementsByTagName("form").item(0),i={EmailAddress:this._form.querySelector("div.Nozzlegear-email-capture > input").value,FirstName:this._form.querySelector("div.Nozzlegear-fname-capture > input").value,LastName:this._form.querySelector("div.Nozzlegear-lname-capture > input").value,FullName:this._form.querySelector("div.Nozzlegear-fullname-capture > input").value};this.options.OnConversion(t,i)&&(this._cookieValue.HasConverted=!0,this._saveCookieData(),this._form.getElementsByTagName("form").item(0).submit())}},n}();
//# sourceMappingURL=Nozzlegear.min.js.map

/*
//# sourceMappingURL=Nozzlegear.min.js.map
*/